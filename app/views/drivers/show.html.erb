

<div class="container-fluid" style="background-color: #262626; padding-bottom: 200px">
	<div class="container" style="padding-top: 110px">

		<h1 class="dashboard"> DASHBOARD </h1>	

		<% if admin_logged_in? %>
			<div style="margin-bottom: -15px; text-align: center">
				<%= button_to drivers_path, method: 'get', class: 'btn btn-outline-danger btn-large' do %>
		  			Back to Drivers
				<% end %>
			</div>
		<% end %>

		<% if !flash[:notice].blank? %>
			<div class="row" style="margin-top: 40px; margin-bottom: -20px">
				<div class="col-xs-8 col-xs-offset-2">
					<div class = "alert alert-success" style="border-radius: 3px; text-align: center">
						<%= flash[:notice] %>
					</div>
				</div>
			</div>
		<% end %>

		<div class="row" style="margin-top: 40px;">
			<!-- Driver -->
			<div class="col-xs-12 col-lg-4" style="background-color: #404040; padding: 20px; border-radius: 3px">

				<h3 style="color: white; font-family: Voltaire; text-align: center" > DRIVER </h3>
				<div style="background-color: white; padding: 20px; border-radius: 3px">
					<strong>First Name:</strong>  <%= @driver.first_name%> <br>
					<hr>
					<strong>Last Name:</strong>  <%= @driver.last_name %> <br>
					<hr>
					<strong id="email" data-email="<%=@driver.email%>">Email:</strong> <%= @driver.email %><br>
					<hr>
					<strong>Tel:</strong>  0<%=  number_to_phone(@driver.tel).chomp('.0') %> <br>
					
					<br>
					<button id="bookings-btn" class="btn btn-outline btn-block" >Bookings</button>
					<button id="invoices-btn" class="btn btn-outline btn-block" >Invoices</button>
					<button id="quotations-btn" class="btn btn-outline btn-block" >Quotations</button>
					<button id="cars-btn" class="btn btn-outline btn-block" >Cars</button>
   
				</div>
				<div style="padding: 20px">	
						<% if admin_logged_in? %>
							<button type="button" class="btn btn-outline-danger btn-block" data-toggle="modal" data-target="#bookingModal" style="margin-top: 10px; text-align: left">
				        		New Booking
				        	</button>

				            <button type="button" class="btn btn-outline-danger btn-block" data-toggle="modal" data-target="#carStatusModal" style="margin-top: 10px; text-align: left">
				            	Car Service Status
				        	</button>

				            <button type="button" class="btn btn-outline-danger btn-block" data-toggle="modal" data-target="#invoiceModal" style="margin-top: 10px; text-align: left">
				            	New Invoice
				        	</button> 

				             <button type="button" class="btn btn-outline-danger btn-block" data-toggle="modal" data-target="#quotationModal" style="margin-top: 10px; text-align: left">
				             	New Quotation
				         	</button>
							
							<%= link_to new_driver_car_path(@driver.id), class: 'btn btn-outline-danger btn-block', 
							style: "text-align: left" do %>
				              Register New Car
				            <% end %>
			       		 <% end %>
			        

				        <%= link_to messages_path, class: 'btn btn-outline-danger btn-block', style: "text-align: left" do %>
				        	Enter Group Chat
				        <% end %>
				</div>
			</div>
			<!-- END -->

			
			<div  class="col-xs-12 col-lg-7 cards" id="cards" >

				<!-- Headings -->
				<h3 id="bookings-heading"  class="cards-heading" >
					BOOKINGS
				</h3>
				<h3 id="invoices-heading" class="cards-heading" style="display: none"> 
					INVOICES 
				</h3>
				<h3 id="quotations-heading"  class="cards-heading" style="display: none">
					QUOTATIONS
				</h3>
				<h3 id="cars-heading"  class="cards-heading" style="display: none">
					CARS
				</h3>
				<!-- END of Headings -->

				<!-- Invoices -->
				<div id="invoices" class="invoices">

					<% if @driver.invoices.size > 0 %>
						<%= render partial: 'invoices_list', locals: { invoices: @invoices} %>
					<% else %>
						<div style="text-align: center; margin-top: 20px; padding: 40px">
							<strong>No Invoices</strong>
							<hr>
						</div>
					<% end %>
				</div>
				<!-- END of Invoices -->

				<!-- Quotations -->
				<div id="quotations" class="quotations">

					<% if @driver.quotations.size > 0 %>
						<%= render partial: 'quotations_list', locals: { quotations: @quotations} %>
					<% else %>
						<div style="text-align: center; margin-top: 20px; padding: 40px">
							<strong>No Quotations</strong>
							<hr>
						</div>
					<% end %>
				</div>
				<!-- END of Quotationss -->

				<!-- Bookings -->
				<div id="bookings" class="bookings">

					<% if @driver.booking %>
						<%= render partial: 'booking', locals: { booking: @booking } %>
					<% else %>
						<div style="text-align: center; margin-top: 20px; padding: 40px">
							<strong>No Bookings</strong>
							<hr>
						</div>
					<% end %>
				</div>
				<!-- END of Bookings -->

				<!-- Cars -->
				<div id="cars" class="cars sort_paginate_ajax">

					<% if @driver.cars.size > 0 %>
						<%= render partial: 'car_list', locals: { cars: @cars} %>
					<% else %>
						<div style="text-align: center; margin-top: 20px; padding: 40px">
							<strong>No Cars</strong>
							<hr>
						</div>
					<% end %>
				</div>
				<!-- END of Cars -->

			</div>	
			<!-- END of Column-->
		</div>
		<!-- END of Row -->
	</div>
	<!-- END of Container -->

<%= render partial: "invoice_modal" %>
<%= render partial: "quotation_modal" %>
<%= render partial: "booking_modal" %>
<%= render partial: "car_status_modal" %>
<%= render partial: "parameters" %>



<%= javascript_include_tag 'drivers/show.js' %>
<%= javascript_include_tag 'drivers/Bookings.js' %>
<%= javascript_include_tag 'drivers/UpdateCarStatus.js' %>







